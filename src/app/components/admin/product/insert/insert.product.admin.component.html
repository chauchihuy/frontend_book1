<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <h3>Insert Product</h3>
      <form (ngSubmit)="insertProduct()" enctype="multipart/form-data">
        
        <div class="form-row">
          <div class="form-group col-md-6 name-title-group">
            <label for="name">Tên:</label>
            <input
              type="text"
              id="name"
              [(ngModel)]="insertEbookDTO.name"
              name="name"
              class="form-control"
              required
              #name="ngModel"
            />
            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger">
              <div *ngIf="name.errors?.['required']">Tên ebook không được bỏ trống.</div>
            </div>
          </div>
          
          <div class="form-group col-md-6 name-title-group" >
            <label for="title">Mô tả:</label>
            <textarea
              id="title"
              [(ngModel)]="insertEbookDTO.title"
              name="title"
              class="form-control"
              required
              #title="ngModel"
            ></textarea>
            <div *ngIf="title.invalid && (title.dirty || title.touched)" class="text-danger">
              <div *ngIf="title.errors?.['required']">Mô tả ebook không được bỏ trống.</div>
            </div>
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="document">Văn bản:</label>
          <textarea
            id="document"
            [(ngModel)]="insertEbookDTO.document"
            name="document"
            class="form-control"
            required
            #document="ngModel"
          ></textarea>
          <div *ngIf="document.invalid && (document.dirty || document.touched)" class="text-danger">
            <div *ngIf="document.errors?.['required']">Văn bản ebook không được bỏ trống.</div>
          </div>
        </div>
        
        <div class="form-group mb-3">
          <label for="categories">Danh mục:</label>
          <div *ngFor="let category of categories">
            <label class="form-check-label">
              <input 
                type="checkbox"
                (change)="onCategoryChange(category.id)"
                [checked]="insertEbookDTO.category_id.includes(category.id)"
              />
              {{ category.name }}
            </label>
          </div>
        </div>
        

        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="evaluate">Điểm ebook:</label>
            <input type="number" id="evaluate" [(ngModel)]="insertEbookDTO.evaluate" name="evaluate" class="form-control">
          </div>

          <div class="form-group col-md-4">
            <label for="kindofbook">Thể loại kinh doanh:</label>
            <select id="kindofbook" [(ngModel)]="insertEbookDTO.kindofbook" name="kindofbook" class="form-control" required>
              <option *ngFor="let kind of kindOfBookKeys" [value]="kind">{{ kindOfBookValues[kind] }}</option>
            </select>
          </div>

          <div class="form-group col-md-4">
            <label for="price">Giá tiền:</label>
            <input type="number" id="price" [(ngModel)]="insertEbookDTO.price" name="price" class="form-control">
            <!-- <input  type="text"  id="price"   [(ngModel)]="insertEbookDTO.price"  name="price"   class="form-control"    /> -->
          </div>
        </div>
        

        <div class="form-group mb-3">
          <label for="audios">Âm thanh:</label>
          <input type="file" id="audios" name="audios" multiple (change)="onMp3FileChange($event)" accept="audio/*" class="form-control">
        </div>

        <div class="form-group mb-3">
          <label for="images">Hình ảnh (tối đa 5):</label>
          <input type="file" id="images" name="images" multiple (change)="onFileChange($event)" accept="image/*" class="form-control">
        </div>

        <button type="submit" class="btn btn-primary">Insert</button>
      </form>
    </div>
  </div>
</div>
